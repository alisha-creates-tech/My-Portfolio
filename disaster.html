<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Failed Attempts and Early Versions</title>
    <link rel="stylesheet" href="style.css">
</head>
<audio id="myAudio" src="music.mp3"></audio>
    <div id="music-status" class="music-icon">
    ðŸŽµ
</div>
<body>
  <header>
        <nav>
    <button class="navB"><a href="index.html">Home</a></button>
    <button class="navB"><a href="disaster.html">Disasters</a></button>
    <button class="navB"><a href="successful.html">Successful Projects</a></button>
        </nav>
            <h1 class="blob">My Failed Attempts and Early Versions</h1>
    </header>
    <main>
    <h3 class="HC">OHHH... look who came to see my failed attempts and early version!</h3>
    <p>So this is where I document all my disasters, failed builds, and learning moments. Not every idea turns out perfect, and that's totally okay! Here, you'll find the projects that didn't go as planned, the mistakes I made, and what I learned from them. It's all part of the creative process, and I'm sharing it to show that failure is just a stepping stone to success. Feel free to explore, learn from my missteps, and maybe even laugh a little at the chaos. After all, every disaster is just a lesson in disguise!</p></main>
</body>
</html>
<script>
  const audio = document.getElementById('myAudio');
const musicIcon = document.getElementById('music-status');

// 1. Load saved state from LocalStorage on page load
window.addEventListener('load', () => {
    const isPlaying = localStorage.getItem('musicPlaying') === 'true';
    const savedTime = localStorage.getItem('musicTime');

    if (savedTime) audio.currentTime = parseFloat(savedTime);
    
    if (isPlaying) {
        // Browsers block auto-play; we try to play, but it may require a user click
        audio.play().then(() => updateUI(true)).catch(() => updateUI(false));
    }
});

// 2. Save current time and state periodically
setInterval(() => {
    if (!audio.paused) {
        localStorage.setItem('musicTime', audio.currentTime);
    }
}, 1000);

function updateUI(playing) {
    if (playing) {
        musicIcon.innerText = "ðŸŽ¶";
        musicIcon.style.animation = "pulse 1.5s infinite";
    } else {
        musicIcon.innerText = "ðŸŽµ";
        musicIcon.style.animation = "none";
    }
}

function toggleMusic() {
    if (audio.paused) {
        audio.play();
        localStorage.setItem('musicPlaying', 'true');
        updateUI(true);
    } else {
        audio.pause();
        localStorage.setItem('musicPlaying', 'false');
        updateUI(false);
    }
}

musicIcon.addEventListener('click', toggleMusic);

</script>